#includepath '~/Documents/;%USERPROFILE%Documents';#include 'basiljs/bundle/basil.js';/** * *  Ken Frederick *  ken.frederick@gmx.de * *  http://kennethfrederick.de/ *  http://blog.kennethfrederick.de/ * */// ------------------------------------------------------------------------//// Properties//// ------------------------------------------------------------------------// marginsvar left = 36;var top  = 36;// var text = 'Considering everything, Dad really\nwanted me—all of us—to take advantage\nof summer\'s end.\n\"Please, don\'t worry about the money.\nGo with your friend, just please call and do\ncheck in often. Do something to crack a \ngoddamn smile on your face, or I\'ll go mad.\"\nI\'ve been thinking a lot about control\nlately. What happens to us, what happens\nto others, the weird, happenstance ugli-\nness that just falls out of the sky, and all\nthe good wonder that surprises us—\nbut instead of falling, that seems to sprout\nup from beneath. I wonder about what I\'m \ndoing wrong, what might come together\njust right later on.\nI feel like I\'m disappointing Dad by\nbeing sad—like it\'s the most unwarranted\nemotional reaction to death. Everyone \ntalks about honoring your mother, honor-\ning your mother, she wouldn\'t want to see\nyou like this.\nI think that\'s why me and Laurel decided\nto go cliff jumping. It was so good to see \nher face—like not a day had gone by,\nbut I\'m sure she could read change and\nfatigue and shit all over mine.\nSo, here we are, poised on top of this\ncragged rock, ready to fling our bodies \ninto the sea.\nAnd it was the best moment, jutting\nout toward that blue line where the light\nsky meets the dark water. No control,\njust falling.\n\"What if we hit a rock?\" I asked.\n(I almost bailed.)\n\"We\'ve all hit rocks.\"';var text = 'Considering everything, Dad really wanted me—all of us—to take advantage of summer\'s end. “Please, don\'t worry about the money. Go with your friend, just please call and do check in often. Do something to crack a goddamn smile on your face, or I\'ll go mad.\" I\'ve been thinking a lot about control lately. What happens to us, what happens to others, the weird, happenstance ugliness that just falls out of the sky, and all the good wonder that surprises us—but instead of falling, that seems to sprout up from beneath. I wonder about what I\'m doing wrong, what might come together just right later on. I feel like I\'m disappointing Dad by being sad—like it\'s the most unwarranted emotional reaction to death. Everyone talks about honoring your mother, honoring your mother, she wouldn\'t want to see you like this. I think that\'s why me and Laurel decided to go cliff jumping. It was so good to see her face—like not a day had gone by, but I\'m sure she could read change and fatigue and shit all over mine. So, here we are, poised on top of this cragged rock, ready to fling our bodies into the sea. And it was the best moment, jutting out toward that blue line where the light sky meets the dark water. No control, just falling. “What if we hit a rock?\" I asked. (I almost bailed.) “We\'ve all hit rocks.\"';var lines;var typeface = {    size:    34,    leading: 36};// ------------------------------------------------------------------------//// Methods//// ------------------------------------------------------------------------function round(val, decimalPlaces) {    var multi = Math.pow(10,decimalPlaces);    return Math.round(val * multi)/multi;};function snap(val, snapInc, roundFunction) {    var roundFunction = roundFunction || Math.round;    return round( snapInc * roundFunction(val / snapInc), 2 );};// ------------------------------------------------------------------------String.prototype.trimStart = function() {    return this.replace(/^\s\s*/, '');};String.prototype.trimEnd = function() {    return this.replace(/\s\s*$/, '');};String.prototype.trim = function() {    return this.trimStart().trimEnd();};String.prototype.reverse = function() {    var lines = this.split('\n'),        temp = '';    for (var i=0; i<lines.length; i++) {        lines[i].trim();        temp = lines[i] + '\n' + temp;    }    return temp;};String.prototype.perLine = function(amt) {    var words = this.split(' '),        temp = '',        count = 1;    for (var i=0; i<words.length; i++) {        words[i].trim();        temp = (count % amt === 0 && count !== 1)            ? temp + words[i] + '\n'            : temp + words[i] + ' ';        count++;    }    return temp;};// ------------------------------------------------------------------------//// Setup////// Draw//function draw() {    b.units( b.PT );    // b.canvasMode( b.MARGIN );    b.rectMode( b.CORNER );    var nText = text.perLine(4);    nText = nText.reverse();    var lines = nText.split('\n');    var words = nText.split(' ');    nText = nText.replace(/\s\s*$/, '\n');    typeface.size = typeface.leading = (3384/lines.length);    // typeface    b.textFont('Theinhardt','Regular');    b.textSize(typeface.size);    b.textLeading(typeface.leading);    var col = 2525/4;    var index = 0;    var textBoxes = [];    for (var y=0; y<b.height; y+=typeface.leading) {        for (var x=0; x<b.width-col; x+=col) {            if (index < words.length) {                var t = (index === 0)                    ? nText                    : '';                textBoxes.push(                    b.text(t, left+x, top+y, col, typeface.leading)                );                if (textBoxes.length > 1) {                    b.linkTextFrames(textBoxes[index-1], textBoxes[index]);                }                index++;            }        }    }};// ------------------------------------------------------------------------//// Invocation//// ------------------------------------------------------------------------b.go();